<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Reshalux</title>

  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Poppins&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>
  <link rel="stylesheet" href="style.css">
</head>

<body>

<header>
  <div class="logo">
    <img src="resha.png" alt="Logo" />
    <span>RESHALUX</span>
  </div>

  <div class="tabs">
    <button class="tab active" onclick="switchMode('rent', this)">Rent</button>
    <button class="tab" onclick="switchMode('buy', this)">Buy</button>
  </div>
</header>

<div class="categories">
  <span class="active" onclick="setCategory('all', this)">All</span>
  <span onclick="setCategory('saree', this)">Saree</span>
  <span onclick="setCategory('lehenga', this)">Lehenga</span>
  <span onclick="setCategory('kurti', this)">Kurti</span>
  <span onclick="setCategory('gown', this)">Gown</span>
</div>

<main>
  <div id="card-container"></div>
</main>

<div class="safety-strip">
  ðŸ’– Safe for women â€¢ Earn from home â€¢ Verified handling
</div>

<button class="about-float" onclick="openAbout()">
  <i class="fa-solid fa-circle-info"></i>
</button>

<div id="aboutModal" class="about-modal">
  <div class="about-box">
    <span class="close-btn" onclick="closeAbout()">Ã—</span>
    <img src="resha.png" width="60" alt="Logo" />
    <h2>About Reshalux</h2>
    <p>Trusted fashion rental & resale platform.</p>
    <button onclick="closeAbout()">Explore Dresses</button>
  </div>
</div>

<div id="imageModal" class="image-modal" onclick="closeImageModal()">
  <img id="modalImage" src="" alt="Full view" />
</div>

<script src="script.js"></script>
</body>
<!-- Popup Modal HTML -->
<div id="firstVisitPopup" class="popup-modal">
  <div class="popup-content">
    <span id="closePopup" class="close-btn">&times;</span>
    <h2>Did you know?</h2>
    <p>You can rent out your dresses & earn money! <br> Click below to upload your dress via WhatsApp.</p>
    <a href="https://wa.me/918107249155?text=Hello!%20I%20want%20to%20upload%20my%20dress%20for%20rent%20or%20sale." target="_blank" class="whatsapp-btn">Upload via WhatsApp</a>
  </div>
</div>

<!-- Side Icon Button -->
<button id="popupIcon" title="Rent Your Dress" style="display:none;">
  <i class="fa-brands fa-whatsapp" style="color:#25D366; font-size:28px;"></i>
</button>

<style>
  /* Popup styling */
  .popup-modal {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.6);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 2000;
  }

  .popup-content {
    background: white;
    padding: 25px 30px;
    border-radius: 15px;
    max-width: 360px;
    text-align: center;
    box-shadow: 0 8px 20px rgba(0,0,0,0.25);
    position: relative;
  }

  .close-btn {
    position: absolute;
    right: 15px;
    top: 12px;
    font-size: 28px;
    cursor: pointer;
    color: #555;
  }

  .popup-content h2 {
    color: #5A1E2D;
    margin-bottom: 15px;
  }

  .popup-content p {
    font-size: 16px;
    margin-bottom: 20px;
    color: #333;
  }

  .whatsapp-btn {
    display: inline-block;
    background: #25D366;
    color: white;
    padding: 12px 24px;
    border-radius: 30px;
    font-weight: bold;
    text-decoration: none;
    font-size: 16px;
    box-shadow: 0 3px 8px rgba(37, 211, 102, 0.6);
    transition: background 0.3s ease;
  }

  .whatsapp-btn:hover {
    background: #1ebe57;
  }

  /* Side Icon Button styling */
  #popupIcon {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: white;
    border: none;
    border-radius: 50%;
    width: 56px;
    height: 56px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    cursor: pointer;
    z-index: 2100;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  #popupIcon:hover {
    box-shadow: 0 6px 14px rgba(0,0,0,0.3);
  }
</style>

<script>
  const popup = document.getElementById('firstVisitPopup');
  const closeBtn = document.getElementById('closePopup');
  const popupIcon = document.getElementById('popupIcon');

  let popupShown = localStorage.getItem('popupShown');
  let popupDismissed = localStorage.getItem('popupDismissed');

  function showPopup() {
    if (!popupShown && !popupDismissed) {
      popup.style.display = 'flex';
      localStorage.setItem('popupShown', 'true');
    }
  }

  // Show popup after 7 seconds delay OR on 50% scroll, only if not dismissed
  setTimeout(() => {
    if (!popupDismissed) showPopup();
  }, 7000);

  window.addEventListener('scroll', () => {
    if (!popupShown && !popupDismissed) {
      const scrollTop = window.scrollY || document.documentElement.scrollTop;
      const docHeight = document.documentElement.scrollHeight - window.innerHeight;
      if (scrollTop / docHeight > 0.5) {
        showPopup();
      }
    }
  });

  closeBtn.onclick = () => {
    popup.style.display = 'none';
    popupIcon.style.display = 'flex';
    localStorage.setItem('popupDismissed', 'true');
  };

  popupIcon.onclick = () => {
    popup.style.display = 'flex';
    popupIcon.style.display = 'none';
  };

  window.onclick = (e) => {
    if (e.target === popup) {
      popup.style.display = 'none';
      popupIcon.style.display = 'flex';
      localStorage.setItem('popupDismissed', 'true');
    }
  };
</script>

<!-- FontAwesome CDN for WhatsApp icon -->
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</html>


